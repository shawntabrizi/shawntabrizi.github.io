"use strict";(self.webpackChunkshawntabrizi=self.webpackChunkshawntabrizi||[]).push([[5369],{49145:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var i=t(85893),o=t(11151);const a={title:"Scraping LinkedIn Topics and Skills Data",date:new Date("2017-07-24T06:58:16.000Z"),authors:"shawntabrizi",layout:"post",slug:"/code/scraping-linkedin-topics-skills-data/",categories:["Code"],tags:["crawling","hack","linkedin","programming","scraper","skills","topics"],github:"LinkedIn-Topic-Skill-Analysis"},s=void 0,l={permalink:"/blog/code/scraping-linkedin-topics-skills-data/",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2017-07-23-scraping-linkedin-topics-skills-data.md",source:"@site/blog/2017-07-23-scraping-linkedin-topics-skills-data.md",title:"Scraping LinkedIn Topics and Skills Data",description:"Have you ever asked:",date:"2017-07-24T06:58:16.000Z",formattedDate:"July 24, 2017",tags:[{label:"crawling",permalink:"/blog/tags/crawling"},{label:"hack",permalink:"/blog/tags/hack"},{label:"linkedin",permalink:"/blog/tags/linkedin"},{label:"programming",permalink:"/blog/tags/programming"},{label:"scraper",permalink:"/blog/tags/scraper"},{label:"skills",permalink:"/blog/tags/skills"},{label:"topics",permalink:"/blog/tags/topics"}],readingTime:7.17,hasTruncateMarker:!1,authors:[{name:"Shawn Tabrizi",title:"Software Engineer",url:"https://github.com/shawntabrizi",imageURL:"https://github.com/shawntabrizi.png",key:"shawntabrizi"}],frontMatter:{title:"Scraping LinkedIn Topics and Skills Data",date:"2017-07-24T06:58:16.000Z",authors:"shawntabrizi",layout:"post",slug:"/code/scraping-linkedin-topics-skills-data/",categories:["Code"],tags:["crawling","hack","linkedin","programming","scraper","skills","topics"],github:"LinkedIn-Topic-Skill-Analysis"},unlisted:!1,prevItem:{title:"Revoking Consent for Azure Active Directory Applications",permalink:"/blog/aad/revoking-consent-azure-active-directory-applications/"},nextItem:{title:"Clients and Tokens and Claims! Oh My!",permalink:"/blog/aad/clients-tokens-claims-oh-my/"}},r={authorsImageUrls:[void 0]},c=[{value:"So let&#39;s do it!",id:"so-lets-do-it",level:2},{value:"Results",id:"results",level:2},{value:"Loading the data:",id:"loading-the-data",level:3},{value:"How many topics are there total?",id:"how-many-topics-are-there-total",level:3},{value:"What are the most popular overall topics/skills?",id:"what-are-the-most-popular-overall-topicsskills",level:3},{value:"What are the top <company>Skills?</company>",id:"what-are-the-top-skills",level:3},{value:"Microsoft",id:"microsoft",level:4},{value:"Google",id:"google",level:4},{value:"Amazon",id:"amazon",level:4},{value:"Facebook",id:"facebook",level:4},{value:"What are the top interconnected skills?",id:"what-are-the-top-interconnected-skills",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Have you ever asked:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"What are the most popular skills among LinkedIn users?"}),"\n",(0,i.jsx)(n.li,{children:"What are the most popular skills among Microsoft employees?"}),"\n",(0,i.jsx)(n.li,{children:"Other top tech companies? (Google, Amazon, Facebook, etc...)"}),"\n",(0,i.jsx)(n.li,{children:"What are the most interconnected skills?"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:['These are questions that LinkedIn does not provide a direct answer to. However, through their "',(0,i.jsx)(n.a,{href:"https://www.linkedin.com/directory/topics/",children:"Topics Directory"}),'", we should be able to come to these conclusions ourselves!']}),"\n",(0,i.jsxs)(n.p,{children:["The Topics Directory seems to be an index over all the different skills that people have put on their profile, alphabetically ordered by skill name. Some pages, like ",(0,i.jsx)(n.a,{href:"https://www.linkedin.com/topic/azure",children:"Azure"}),", have very specific metadata about the skill, while others like ",(0,i.jsx)(n.a,{href:"https://www.linkedin.com/topic/azure-active-directory",children:"Azure Active Directory"}),", show up in the directory, but do not have this additional metadata."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(32810).Z+"",width:"1147",height:"707"})}),"\n",(0,i.jsx)(n.p,{children:"If we look at the additional metadata, you can see that it calls out a number of very interesting data points. It tells you:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"How many people have this skill"}),"\n",(0,i.jsx)(n.li,{children:"The top 10 companies that have employees who register this skill"}),"\n",(0,i.jsx)(n.li,{children:"(My guess) The top skills that people have who also have this skill"}),"\n",(0,i.jsx)(n.li,{children:"(My guess) The top related skills"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'Now clearly, there is some poor Web Design, in that there are two different sections, both with the same title "Top Skills", but contain different data. We will have to do our own interpretation of what this data exactly means, but nonetheless, the data is all useful.'}),"\n",(0,i.jsxs)(n.p,{children:["So how do we start scouring this data to answer the questions I proposed at the start of this post? Well, by scraping it of course, and storing it into our own database. Now, this is ",(0,i.jsx)(n.a,{href:"https://tech.bragboy.com/2016/11/crawl-all-linkedin-skills.html",children:"not an original idea"}),", but certainly I have not seen anyone collect the level of data which I am interested in. I want to have a copy of all the data points above for each topic, all in a single list!"]}),"\n",(0,i.jsx)(n.h2,{id:"so-lets-do-it",children:"So let's do it!"}),"\n",(0,i.jsxs)(n.p,{children:["Of course we will be using ",(0,i.jsx)(n.a,{href:"https://www.python.org/",children:"Python"})," + ",(0,i.jsx)(n.a,{href:"https://www.crummy.com/software/BeautifulSoup/bs4/doc/",children:"Beautiful Soup"})," + ",(0,i.jsx)(n.a,{href:"https://docs.python-requests.org/en/master/",children:"Requests"}),". You can find the latest version of my LinkedIn scraper on ",(0,i.jsx)(n.a,{href:"https://github.com/shawntabrizi/LinkedIn-Topic-Skill-Analysis",children:"my GitHub"}),". Here, I will only be looking at the main function, which describes the logic of my code, not the specific functions which actually does the scraping. You can find that on ",(0,i.jsx)(n.a,{href:"https://github.com/shawntabrizi/LinkedIn-Topic-Skill-Analysis",children:"my GitHub"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from bs4 import BeautifulSoup\nimport requests\nimport string\nimport re\nimport json\n\n# ...\n# sub-functions removed, check GitHub for full source\n# ...\n\ndef main():\n    letters = list(string.ascii_lowercase)\n    letters.append('more')\n    base_url = \"https://www.linkedin.com/directory/topics-\"\n    for letter in letters:\n        letter_url = base_url + letter + \"/\"\n        content = get_content(letter_url)\n        for con in content:\n            if letter == 'y' or letter == 'z':\n                sub_content = content\n            else:\n                letter_page_url = con.find(\"a\")\n                print(letter_page_url)\n                if letter_page_url.has_attr('href'):\n                    sub_content = get_content(letter_page_url['href'])\n                else:\n                    sub_content = None\n            for sub_con in sub_content:\n                topic_url = sub_con.find(\"a\")\n                topic = scrape_data(topic_url)\n                create_json(topic)\n            if letter == 'y' or letter == 'z':\n                break\n"})}),"\n",(0,i.jsx)(n.p,{children:"To scrape this site, we are basically figuring out the pattern which generates these pages. LinkedIn organizes these topics first by letter:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://www.linkedin.com/directory/topics-{letter}/\n"})}),"\n",(0,i.jsx)(n.p,{children:'Then on each "letter page", they group the topics by alphabetical order, in groups:'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://www.linkedin.com/directory/topics-{letter}-{number}/\n"})}),"\n",(0,i.jsx)(n.p,{children:"Finally, if you navigate to the specific topic, you will get the final page with data:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://www.linkedin.com/topic/{topic}\n"})}),"\n",(0,i.jsx)(n.p,{children:"There are a few exceptions to this pattern, which added complexity to the scraper. Basically the letters Y and Z do not have enough topics to be able to put them in groups, which means instead of navigating 3 pages deep to get the data, we need to navigate only 2 pages deep. You can see I handle this situation in my scraper. Other than that, once I get the data off the page, I put it into a JSON file for later usage!"}),"\n",(0,i.jsx)(n.p,{children:"One thing to note, but that I will not go into detail here about is that LinkedIn actually blocks scrapers in general, by creating a 999 response when you try to get data using a bot. If you want to run this script, you will have to overcome this. If you look online, people mention that you might need to update the user-agent passed in the headers of the web requests, but this did not work for me. I might go into detail about this during another post."}),"\n",(0,i.jsx)(n.h2,{id:"results",children:"Results"}),"\n",(0,i.jsx)(n.p,{children:"So, let's look at some of the data. I can import the JSON as an array of dictionaries in Python, and then try and write some queries to get data from it. I am not claiming to write the best or most efficient queries, but hopefully they will get the correct data."}),"\n",(0,i.jsx)(n.h3,{id:"loading-the-data",children:"Loading the data:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"with open(r'C:\\Users\\shawn\\Documents\\GitHubVisualStudio\\LinkedIn-Topic-Skill-Analysis\\results\\linkedin_topics_7-23-17.json') as data_file:\n    data = json.load(data_file)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"how-many-topics-are-there-total",children:"How many topics are there total?"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"len(data)\n"})}),"\n",(0,i.jsx)("pre",{children:"33188"}),"\n",(0,i.jsx)(n.h3,{id:"what-are-the-most-popular-overall-topicsskills",children:"What are the most popular overall topics/skills?"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"ordered_by_count = sorted(data, key=lambda k: k['count'] if isinstance(k['count'],int) else 0, reverse=True)\nfor skill in ordered_by_count[:20]:\n    print(skill['name'])\n"})}),"\n",(0,i.jsx)("pre",{children:(0,i.jsx)(n.p,{children:"Management - 69725749\nMicrosoft - 55910552\nOffice - 46632581\nMicrosoft Office - 45351678\nPlanning - 34397412\nMicrosoft Excel - 32966966\nLeadership - 31017503\nCustomer Service - 30810924\nLeadership Management - 25854094\nWord - 25793371\nProject - 25766790\nProject+ - 25766790\nMicrosoft Word - 25567902\nBusiness - 25374740\nCustomer Management - 24946045\nManagement Development - 24207445\nDevelopment Management - 24207409\nProject Management - 23922491\nMarketing - 23047665\nCustomer Service Management - 22856920"})}),"\n",(0,i.jsxs)(n.h3,{id:"what-are-the-top-skills",children:["What are the top ",(0,i.jsx)("company",{children:"Skills?"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"company = 'Microsoft'\ncompany_skills = []\nfor skill in ordered_by_count:\n    if skill['companies'] is not None:\n        if company in skill['companies']:\n            company_skills.append(skill)\n\norder_by_company = sorted(company_skills, key=lambda k: k['companies'][company], reverse=True)\nfor skill in order_by_company[:20]:\n     print(skill['name'], \"-\", skill['companies'][company])\n"})}),"\n",(0,i.jsx)(n.h4,{id:"microsoft",children:"Microsoft"}),"\n",(0,i.jsx)("pre",{children:(0,i.jsx)(n.p,{children:"Cloud - 74817\nCloud Computing - 74817\nCloud-Computing - 74817\nCloud Services - 74817\nManagement - 73123\nManagement Skills - 73123\nMulti-Unit Management - 73123\nEnterprise - 54516\nEnterprise Software - 54516\nSoftware Development - 53201\nProject Management - 52083\nProject Management Skills - 52083\nPMP - 52083\nPMI - 52083\nStrategy - 43983\nSaaS - 41450\nSoftware as a Service - 41450\nProgram Management - 40749\nBusiness Intelligence - 39291\nC# - 39158"})}),"\n",(0,i.jsx)(n.h4,{id:"google",children:"Google"}),"\n",(0,i.jsx)("pre",{children:(0,i.jsx)(n.p,{children:"Java - 23225\nStrategy - 22235\nMarketing - 21672\nData-driven Marketing - 21672\nPython - 20788\nSoftware Development - 20406\nC++ - 20199\nSocial Media - 20082\nSocial Networks - 20082\nDigital Marketing - 19942\nOnline Advertising - 19922\nMarketing Strategy - 16882\nLinux - 16272\nJavaScript - 14567\nJavaScript Frameworks - 14567\nC - 14460\nC Programming - 14460\nOnline Marketing - 13925\nOnline-Marketing - 13925\nSocial Media Marketing - 12931"})}),"\n",(0,i.jsx)(n.h4,{id:"amazon",children:"Amazon"}),"\n",(0,i.jsx)("pre",{children:(0,i.jsx)(n.p,{children:"Leadership - 44329\nLeadership Skills - 44329\nMicrosoft Office - 42713\nOffice for Mac - 42713\nCustomer Service - 36176\nMicrosoft Excel - 33403\nJava - 25609\nWord - 23314\nMicrosoft Word - 23314\nPowerPoint - 22318\nMicrosoft PowerPoint - 22318\nSocial Media - 22110\nSocial Networks - 22110\nC++ - 19619\nTraining - 19250\nMarketing - 18826\nData-driven Marketing - 18826\nSoftware Development - 18521\nPublic Speaking - 17366\nC - 16813"})}),"\n",(0,i.jsx)(n.h4,{id:"facebook",children:"Facebook"}),"\n",(0,i.jsx)("pre",{children:(0,i.jsx)(n.p,{children:"Digital Marketing - 4973\nOnline Advertising - 4334\nDigital Strategy - 3399\nOnline Marketing - 3012\nOnline-Marketing - 3012\nFacebook - 2883\nAlgorithms - 2881\nMobile Marketing - 2163\nMachine Learning - 2103\nDistributed Systems - 2033\nUser Experience - 1971\nUX - 1971\nWeb Analytics - 1682\nSEM - 1626\nComputer Science - 1440\nGoogle Analytics - 1261\nAdwords - 1093\nGoogle AdWords - 1093\nScalability - 1057\nMobile Advertising - 919"})}),"\n",(0,i.jsx)(n.h3,{id:"what-are-the-top-interconnected-skills",children:"What are the top interconnected skills?"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"skill_count = {}\nfor topic in data:\n    if topic['skills'] is not None:\n        for top_skill in topic['skills']:\n            if top_skill not in skill_count:\n                skill_count[top_skill] = 1\n            else:\n                skill_count[top_skill] += 1\n    if topic['topSkills'] is not None:\n        for top_skill in topic['topSkills']:\n            if top_skill not in skill_count:\n                skill_count[top_skill] = 1\n            else:\n                skill_count[top_skill] += 1\n\nfor skill in sorted(skill_count, key=skill_count.get, reverse = True)[:20]:\n    print(skill, \"-\", skill_count[skill])\n"})}),"\n",(0,i.jsx)("pre",{children:(0,i.jsx)(n.p,{children:"Microsoft Office - 11081\nManagement - 8845\nCustomer Service - 7010\nProject Management - 6902\nMicrosoft Excel - 4884\nLeadership - 4682\nSocial Media - 3883\nResearch - 3798\nPublic Speaking - 3243\nMarketing - 2644\nMicrosoft Word - 2426\nSales - 2335\nSQL - 2322\nEngineering - 2300\nBusiness Development - 2071\nStrategic Planning - 1879\nJava - 1792\nAdobe Photoshop - 1555\nJavaScript - 1488\nMicrosoft PowerPoint - 1483"})}),"\n",(0,i.jsx)(n.p,{children:"There is so much more we can do with this data, and I do have plans! I just can't talk about them here. In a related note, I am super excited for the Microsoft Hackathon happening this next week. I will be using these tools, and hopefully more to accomplish an awesome project. Maybe more to share here in the future!"})]})}function d(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},32810:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/img_59746ae38bf91-e55e479377c6fedca162fd5395311681.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>s});var i=t(67294);const o={},a=i.createContext(o);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);